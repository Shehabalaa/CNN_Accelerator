    vsim -gui work.Accelerator
	quietly virtual signal -install /accelerator/FCENT { (context /accelerator/FCENT )(labelReg_0_0 & labelReg_0_1 & labelReg_0_2 & labelReg_0_3 & labelReg_0_4 & labelReg_0_5 & labelReg_0_6 & labelReg_0_7 & labelReg_0_8 & labelReg_0_9 & labelReg_0_10 & labelReg_0_11 & labelReg_0_12 & labelReg_0_13 & labelReg_0_14 & labelReg_0_15 & labelReg_1_0 & labelReg_1_1 & labelReg_1_2 & labelReg_1_3 & labelReg_1_4 & labelReg_1_5 & labelReg_1_6 & labelReg_1_7 & labelReg_1_8 & labelReg_1_9 & labelReg_1_10 & labelReg_1_11 & labelReg_1_12 & labelReg_1_13 & labelReg_1_14 & labelReg_1_15 & labelReg_2_0 & labelReg_2_1 & labelReg_2_2 & labelReg_2_3 & labelReg_2_4 & labelReg_2_5 & labelReg_2_6 & labelReg_2_7 & labelReg_2_8 & labelReg_2_9 & labelReg_2_10 & labelReg_2_11 & labelReg_2_12 & labelReg_2_13 & labelReg_2_14 & labelReg_2_15 & labelReg_3_0 & labelReg_3_1 & labelReg_3_2 & labelReg_3_3 & labelReg_3_4 & labelReg_3_5 & labelReg_3_6 & labelReg_3_7 & labelReg_3_8 & labelReg_3_9 & labelReg_3_10 & labelReg_3_11 & labelReg_3_12 & labelReg_3_13 & labelReg_3_14 & labelReg_3_15 & labelReg_4_0 & labelReg_4_1 & labelReg_4_2 & labelReg_4_3 & labelReg_4_4 & labelReg_4_5 & labelReg_4_6 & labelReg_4_7 & labelReg_4_8 & labelReg_4_9 & labelReg_4_10 & labelReg_4_11 & labelReg_4_12 & labelReg_4_13 & labelReg_4_14 & labelReg_4_15 & labelReg_5_0 & labelReg_5_1 & labelReg_5_2 & labelReg_5_3 & labelReg_5_4 & labelReg_5_5 & labelReg_5_6 & labelReg_5_7 & labelReg_5_8 & labelReg_5_9 & labelReg_5_10 & labelReg_5_11 & labelReg_5_12 & labelReg_5_13 & labelReg_5_14 & labelReg_5_15 & labelReg_6_0 & labelReg_6_1 & labelReg_6_2 & labelReg_6_3 & labelReg_6_4 & labelReg_6_5 & labelReg_6_6 & labelReg_6_7 & labelReg_6_8 & labelReg_6_9 & labelReg_6_10 & labelReg_6_11 & labelReg_6_12 & labelReg_6_13 & labelReg_6_14 & labelReg_6_15 & labelReg_7_0 & labelReg_7_1 & labelReg_7_2 & labelReg_7_3 & labelReg_7_4 & labelReg_7_5 & labelReg_7_6 & labelReg_7_7 & labelReg_7_8 & labelReg_7_9 & labelReg_7_10 & labelReg_7_11 & labelReg_7_12 & labelReg_7_13 & labelReg_7_14 & labelReg_7_15 & labelReg_8_0 & labelReg_8_1 & labelReg_8_2 & labelReg_8_3 & labelReg_8_4 & labelReg_8_5 & labelReg_8_6 & labelReg_8_7 & labelReg_8_8 & labelReg_8_9 & labelReg_8_10 & labelReg_8_11 & labelReg_8_12 & labelReg_8_13 & labelReg_8_14 & labelReg_8_15 & labelReg_9_0 & labelReg_9_1 & labelReg_9_2 & labelReg_9_3 & labelReg_9_4 & labelReg_9_5 & labelReg_9_6 & labelReg_9_7 & labelReg_9_8 & labelReg_9_9 & labelReg_9_10 & labelReg_9_11 & labelReg_9_12 & labelReg_9_13 & labelReg_9_14 & labelReg_9_15 )} LabelReg
quietly virtual signal -install /accelerator/FCENT { (context /accelerator/FCENT )(labelReg_0_15 & labelReg_0_14 & labelReg_0_13 & labelReg_0_12 & labelReg_0_11 & labelReg_0_10 & labelReg_0_9 & labelReg_0_8 & labelReg_0_7 & labelReg_0_6 & labelReg_0_5 & labelReg_0_4 & labelReg_0_3 & labelReg_0_2 & labelReg_0_1 & labelReg_0_0 )} First15
quietly virtual signal -install /accelerator/FCENT { (context /accelerator/FCENT )(labelReg_1_15 & labelReg_1_14 & labelReg_1_13 & labelReg_1_12 & labelReg_1_11 & labelReg_1_10 & labelReg_1_9 & labelReg_1_8 & labelReg_1_7 & labelReg_1_6 & labelReg_1_5 & labelReg_1_4 & labelReg_1_3 & labelReg_1_2 & labelReg_1_1 & labelReg_1_0 )} Second15
quietly virtual signal -install /accelerator/FCENT { (context /accelerator/FCENT )(labelReg_2_15 & labelReg_2_14 & labelReg_2_13 & labelReg_2_12 & labelReg_2_11 & labelReg_2_10 & labelReg_2_9 & labelReg_2_8 & labelReg_2_7 & labelReg_2_6 & labelReg_2_5 & labelReg_2_4 & labelReg_2_3 & labelReg_2_2 & labelReg_2_1 & labelReg_2_0 )} Third15
quietly virtual signal -install /accelerator/FCENT { (context /accelerator/FCENT )(labelReg_3_15 & labelReg_3_14 & labelReg_3_13 & labelReg_3_12 & labelReg_3_11 & labelReg_3_10 & labelReg_3_9 & labelReg_3_8 & labelReg_3_7 & labelReg_3_6 & labelReg_3_5 & labelReg_3_4 & labelReg_3_3 & labelReg_3_2 & labelReg_3_1 & labelReg_3_0 )} Fourth15
quietly virtual signal -install /accelerator/FCENT { (context /accelerator/FCENT )(labelReg_4_15 & labelReg_4_14 & labelReg_4_13 & labelReg_4_12 & labelReg_4_11 & labelReg_4_10 & labelReg_4_9 & labelReg_4_8 & labelReg_4_7 & labelReg_4_6 & labelReg_4_5 & labelReg_4_4 & labelReg_4_3 & labelReg_4_2 & labelReg_4_1 & labelReg_4_0 )} Fifth15
quietly virtual signal -install /accelerator/FCENT { (context /accelerator/FCENT )(labelReg_5_15 & labelReg_5_14 & labelReg_5_13 & labelReg_5_12 & labelReg_5_11 & labelReg_5_10 & labelReg_5_9 & labelReg_5_8 & labelReg_5_7 & labelReg_5_6 & labelReg_5_5 & labelReg_5_4 & labelReg_5_3 & labelReg_5_2 & labelReg_5_1 & labelReg_5_0 )} Sixth15
quietly virtual signal -install /accelerator/FCENT { (context /accelerator/FCENT )(labelReg_6_15 & labelReg_6_14 & labelReg_6_13 & labelReg_6_12 & labelReg_6_11 & labelReg_6_10 & labelReg_6_9 & labelReg_6_8 & labelReg_6_7 & labelReg_6_6 & labelReg_6_5 & labelReg_6_4 & labelReg_6_3 & labelReg_6_2 & labelReg_6_1 & labelReg_6_0 )} Seventh15
quietly virtual signal -install /accelerator/FCENT { (context /accelerator/FCENT )(labelReg_7_15 & labelReg_7_14 & labelReg_7_13 & labelReg_7_12 & labelReg_7_11 & labelReg_7_10 & labelReg_7_9 & labelReg_7_8 & labelReg_7_7 & labelReg_7_6 & labelReg_7_5 & labelReg_7_4 & labelReg_7_3 & labelReg_7_2 & labelReg_7_1 & labelReg_7_0 )} Eighth15
quietly virtual signal -install /accelerator/FCENT { (context /accelerator/FCENT )(labelReg_8_15 & labelReg_8_14 & labelReg_8_13 & labelReg_8_12 & labelReg_8_11 & labelReg_8_10 & labelReg_8_9 & labelReg_8_8 & labelReg_8_7 & labelReg_8_6 & labelReg_8_5 & labelReg_8_4 & labelReg_8_3 & labelReg_8_2 & labelReg_8_1 & labelReg_8_0 )} Ninth15
quietly virtual signal -install /accelerator/FCENT { (context /accelerator/FCENT )(labelReg_9_15 & labelReg_9_14 & labelReg_9_13 & labelReg_9_12 & labelReg_9_11 & labelReg_9_10 & labelReg_9_9 & labelReg_9_8 & labelReg_9_7 & labelReg_9_6 & labelReg_9_5 & labelReg_9_4 & labelReg_9_3 & labelReg_9_2 & labelReg_9_1 & labelReg_9_0 )} Tenth15
	quietly virtual signal -install /accelerator/FCENT { (concat_range (0 to 159) )( (context /accelerator/FCENT )(labelReg_0_15 & labelReg_0_14 & labelReg_0_13 & labelReg_0_12 & labelReg_0_11 & labelReg_0_10 & labelReg_0_9 & labelReg_0_8 & labelReg_0_7 & labelReg_0_6 & labelReg_0_5 & labelReg_0_4 & labelReg_0_3 & labelReg_0_2 & labelReg_0_1 & labelReg_0_0 & labelReg_1_15 & labelReg_1_14 & labelReg_1_13 & labelReg_1_12 & labelReg_1_11 & labelReg_1_10 & labelReg_1_9 & labelReg_1_8 & labelReg_1_7 & labelReg_1_6 & labelReg_1_5 & labelReg_1_4 & labelReg_1_3 & labelReg_1_2 & labelReg_1_1 & labelReg_1_0 & labelReg_2_15 & labelReg_2_14 & labelReg_2_13 & labelReg_2_12 & labelReg_2_11 & labelReg_2_10 & labelReg_2_9 & labelReg_2_8 & labelReg_2_7 & labelReg_2_6 & labelReg_2_5 & labelReg_2_4 & labelReg_2_3 & labelReg_2_2 & labelReg_2_1 & labelReg_2_0 & labelReg_3_15 & labelReg_3_14 & labelReg_3_13 & labelReg_3_12 & labelReg_3_11 & labelReg_3_10 & labelReg_3_9 & labelReg_3_8 & labelReg_3_7 & labelReg_3_6 & labelReg_3_5 & labelReg_3_4 & labelReg_3_3 & labelReg_3_2 & labelReg_3_1 & labelReg_3_0 & labelReg_4_15 & labelReg_4_14 & labelReg_4_13 & labelReg_4_12 & labelReg_4_11 & labelReg_4_10 & labelReg_4_9 & labelReg_4_8 & labelReg_4_7 & labelReg_4_6 & labelReg_4_5 & labelReg_4_4 & labelReg_4_3 & labelReg_4_2 & labelReg_4_1 & labelReg_4_0 & labelReg_5_15 & labelReg_5_14 & labelReg_5_13 & labelReg_5_12 & labelReg_5_11 & labelReg_5_10 & labelReg_5_9 & labelReg_5_8 & labelReg_5_7 & labelReg_5_6 & labelReg_5_5 & labelReg_5_4 & labelReg_5_3 & labelReg_5_2 & labelReg_5_1 & labelReg_5_0 & labelReg_6_15 & labelReg_6_14 & labelReg_6_13 & labelReg_6_12 & labelReg_6_11 & labelReg_6_10 & labelReg_6_9 & labelReg_6_8 & labelReg_6_7 & labelReg_6_6 & labelReg_6_5 & labelReg_6_4 & labelReg_6_3 & labelReg_6_2 & labelReg_6_1 & labelReg_6_0 & labelReg_7_15 & labelReg_7_14 & labelReg_7_13 & labelReg_7_12 & labelReg_7_11 & labelReg_7_10 & labelReg_7_9 & labelReg_7_8 & labelReg_7_7 & labelReg_7_6 & labelReg_7_5 & labelReg_7_4 & labelReg_7_3 & labelReg_7_2 & labelReg_7_1 & labelReg_7_0 & labelReg_8_15 & labelReg_8_14 & labelReg_8_13 & labelReg_8_12 & labelReg_8_11 & labelReg_8_10 & labelReg_8_9 & labelReg_8_8 & labelReg_8_7 & labelReg_8_6 & labelReg_8_5 & labelReg_8_4 & labelReg_8_3 & labelReg_8_2 & labelReg_8_1 & labelReg_8_0 & labelReg_9_15 & labelReg_9_14 & labelReg_9_13 & labelReg_9_12 & labelReg_9_11 & labelReg_9_10 & labelReg_9_9 & labelReg_9_8 & labelReg_9_7 & labelReg_9_6 & labelReg_9_5 & labelReg_9_4 & labelReg_9_3 & labelReg_9_2 & labelReg_9_1 & labelReg_9_0 ) )} Test001
	add wave -noupdate -group FC -radix hexadecimal /accelerator/FCENT/dmaAddRamNeorons
    add wave -position insertpoint  \
	sim:/Accelerator/rst \
	sim:/Accelerator/toFC 
	add wave -noupdate -group toCNN /accelerator/IOChip/io/Controller/toCNNComb
	add wave -noupdate -group toCNN /accelerator/IOChip/io/Controller/delayedToCNN
	add wave -noupdate -group toCNN /accelerator/IOChip/io/Controller/delayedToCNNSq
	add wave -noupdate -group toCNN /accelerator/IOChip/io/Controller/delayedToCNNCube
	add wave -noupdate -group toCNN /accelerator/IOChip/io/Controller/toCNN
	
	
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/coresMap/filterBus
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/coresMap/windowBus
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/coresMap/decoderRow
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/coresMap/writePage1
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/coresMap/writePage2
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/coresMap/writeFilter
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/coresMap/shift2To1
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/coresMap/shift1To2
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/coresMap/pageTurn
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/coresMap/start
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/coresMap/layerType
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/coresMap/filterType
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/layersNumber
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/filtersNumber
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/filterDepth
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/filterOutputSize
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/startNetwork
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/layerType
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/convFinish
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/dmaAFinish
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/dmaBFinish
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/dmaCFinish
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/resetNetwork
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/startOneLayer
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/startFilter
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/filterLastLayer
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/startSlice
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/loadLayerConfig
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/loadNetworkConfig
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/loadFilterConfig
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/loadWindow
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/loadFilter
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/conv
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/pool
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/shift12
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/shift21
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/readNextCol
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/addToOutputBuffer
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/outputBufferEn
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/saveToRAM
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/currentPage
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/finishCurrentSlice
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/finishFilter
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/finishOneLayer
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/controlUnitMap/finishNetwork
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/clk
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/reset
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/weightsInternalBus
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/windowInternalBus
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/writeInternalBus
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/weightsRamAddress
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/windowRamAddressRead
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/windowRamAddressWrite
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/weightsRamDataInBus
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/windowRamDataInBus
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/weightsRamRead
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/windowRamRead
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/windowRamWrite
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/windowRamDataOutBus
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/MFCWindowRam
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/MFCWeightsRam
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/MFCWrite
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/loadNextFilter
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/loadNextWindow
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/loadNextRow
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/loadOneWord
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/loadThreeWord
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/filterFinished
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/sliceFinished
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/layerFinished
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/layerType
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/write
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/weightsSizeType
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/inputSize
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/outputSize
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/windowRamBaseAddress1
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/windowRamBaseAddress2
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/filterRamBaseAddress
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/windowReadOne
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/windowReadFinal
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/weightsReadOne
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/weightsReadFinal
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/DMAControllerMap/writeDoneOne
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/finalAdderMap/a
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/finalAdderMap/b
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/finalAdderMap/carryIn
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/finalAdderMap/sum
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/configMap/filterBus
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/configMap/clk
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/configMap/rst
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/configMap/readNumLayers
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/configMap/readLayerConfig
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/configMap/numLayers
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/configMap/layerType
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/configMap/filterType
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/configMap/numFilters
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/configMap/filterDepth
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/configMap/inputSize
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNModule/configMap/outputSize
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNReadMFC
add wave -noupdate -group CNN -radix hexadecimal /accelerator/ImageReadMFC
add wave -noupdate -group CNN -radix hexadecimal /accelerator/doneDMAImageOld
add wave -noupdate -group CNN -radix hexadecimal /accelerator/weightsRamRead
add wave -noupdate -group CNN -radix hexadecimal /accelerator/windowRamWrite
add wave -noupdate -group CNN -radix hexadecimal /accelerator/finalImgRamWrite
add wave -noupdate -group CNN -radix hexadecimal /accelerator/windowRamDataOutBus
add wave -noupdate -group CNN -radix hexadecimal /accelerator/finalImgRamDin
add wave -noupdate -group CNN -radix hexadecimal /accelerator/windowRamAddressWrite
add wave -noupdate -group CNN -radix hexadecimal /accelerator/finalImgRamWriteAddress
add wave -noupdate -group CNN -radix hexadecimal /accelerator/CNNReadRamAddress
add wave -noupdate -group CNN -radix hexadecimal /accelerator/finishNetwork
add wave -noupdate -group FC /accelerator/FCENT/cnnDone
add wave -noupdate -group FC /accelerator/FCENT/ioDone
add wave -noupdate -group FC -radix hexadecimal /accelerator/FCENT/readRamNeorons
add wave -noupdate -group FC -radix hexadecimal /accelerator/FCENT/finishRamNeorons
add wave -noupdate -group FC -radix hexadecimal /accelerator/FCENT/dataOutRamNeorons
add wave -noupdate -group FC -radix hexadecimal /accelerator/FCENT/dmaAddRamWeights
add wave -noupdate -group FC -radix hexadecimal /accelerator/FCENT/readRamWeights
add wave -noupdate -group FC -radix hexadecimal /accelerator/FCENT/finishRamWeights
add wave -noupdate -group FC -radix hexadecimal /accelerator/FCENT/dataOutRamWeights
add wave -noupdate -group FC -radix hexadecimal /accelerator/FCENT/fcDone
add wave -noupdate -group FC -radix hexadecimal /accelerator/FCENT/MAXPrediction
add wave -noupdate -expand -group FC -radix hexadecimal /accelerator/FCENT/Test001

   
    # $fileImage will contain the fileImage pointer to test.txt (fileImage must exist)
    set fileImage [open testImage.txt]
    set fileCNN [open testCNN.txt]
    set fileFC [open testFC.txt]
    # $input will contain the contents of the fileImage
    set inputImage [read $fileImage]    
    set inputCNN [read $fileCNN]
    set inputFC [read $fileFC]
    # $lines will be an array containing each line of test.txt

    # $runTime will be the period of the clk cycle
    set runTime 50ns
    #set halfRunTime [expr {$runTime / 2}]
	set halfRunTime 25ns
	WaveRestoreZoom {0 ps} {1109648 ps}

    force -freeze sim:/Accelerator/rst 1 0
    force -freeze sim:/Accelerator/clk 1 0, 0 {25 ns} -r 50ns
    force -freeze sim:/Accelerator/INTR 0 0
	force -freeze sim:/Accelerator/IOChip/io/CONTROLLER/doneDecomp 0 0
	noforce sim:/Accelerator/result
    run $runTime
	noforce sim:/Accelerator/IOChip/io/CONTROLLER/doneDecomp
	run $runTime
	#run $runTime
    force -freeze sim:/Accelerator/rst 0 0
    run $halfRunTime
	
	#run $halfRunTime

    force -freeze sim:/Accelerator/processing 0 0
    force -freeze sim:/Accelerator/load 1 0 
    force -freeze sim:/Accelerator/imageOrCNN 0 0

	set Cycles 0
    for {set i 0} {$i < 3} {incr i} {
        set phaseDone 0
		set FCCycles 0
        if { $i == 0} {
            set lines [split $inputImage "\n"]
            force -freeze sim:/Accelerator/processing 0 0
            force -freeze sim:/Accelerator/load 1 0 
            force -freeze sim:/Accelerator/imageOrCNN 0 0
        } elseif { $i == 1} {
            set lines [split $inputCNN "\n"]
            run $runTime
            run $runTime
			set Cycles [expr {$Cycles + 4}]
        } else {
            set lines [split $inputFC "\n"]
			set boolean 1
        }
        foreach line $lines {
            force -freeze sim:/Accelerator/INTR 1 0
            force -freeze sim:/Accelerator/Din $line 0
            run $runTime
			set Cycles [expr {$Cycles + 2}]
			if { $i == 2 } {
				set FCCycles [expr {$FCCycles + 2}]
			}
            noforce sim:/Accelerator/Din 
            force -freeze sim:/Accelerator/INTR 0 0
            set busy [examine -binary /Accelerator/busy]
			set donePhase [examine -binary /Accelerator/doneWithPhase]
            while { $busy } {
                run $halfRunTime
				set Cycles [expr {$Cycles + 1}]
				if { $Cycles > 30 } {
					stop
				}
				if { $i == 2 } {
					set FCCycles [expr {$FCCycles + 1}]
				}
                set busy [examine -binary /Accelerator/busy]
                if { $busy == 0 } {
                    set doneDMACNN [examine -binary /Accelerator/doneDMACNN]
                    if { $doneDMACNN == 1} {
                        run $halfRunTime
						set FCCycles [expr {$Cycles + 1}]
                        }
                    set doneDecomp [examine -binary /accelerator/IOChip/io/CONTROLLER/doneDecomp]
					
                    if { $doneDecomp == 1 && $donePhase == 0} {
                        run $halfRunTime
						set FCCycles [expr {$Cycles + 1}]
                        }
                    }
            }
			set donePhase [examine -binary /Accelerator/doneWithPhase]
			if { $donePhase == 0} {
                run $halfRunTime
				if { $i == 2 } {
					set FCCycles [expr {$FCCycles + 1}]
				}
            }
            if { $i == 2} {
                run $halfRunTime
				set FCCycles [expr {$FCCycles + 1}]
                set busy [examine -binary /Accelerator/busy] 
                while { $busy } {
                    set FCRamWrite [examine -binary /Accelerator/FCRamWrite]
                    run $halfRunTime
					set FCCycles [expr {$FCCycles + 1}]
                    set busy [examine -binary /Accelerator/busy]
                    if { $busy == 0 } {
                        if { $FCRamWrite == 1} {
                            run $halfRunTime
							set FCCycles [expr {$FCCycles + 1}]
                        }
                    }
                }
                run $halfRunTime 
				set FCCycles [expr {$FCCycles + 1}]
            }
            set donePhase [examine -binary /Accelerator/doneWithPhase]
            if { $donePhase == 1 } {
					if { $i == 0 } {
						puts "done with image phase"
					}
					if { $i == 1 } {
						force -freeze sim:/Accelerator/processing 1 0
						puts "done with CNN weights phase"
						mem save -o CNN.mem -f mti -noaddress -data binary -addr hex -startaddress 0 -endaddress 107 -wordsperline 1 /accelerator/Weights/ram
					}
                    force -freeze sim:/Accelerator/imageOrCNN 1 0
                    run $halfRunTime
                    run $runTime
                    run $runTime
                    break
                }
        }
    }
	puts "done with FC phase"
    close $fileImage
	--Load FC mem 
	mem load -i C:/Users/Osama/Desktop/10neoronsTC/RAMWEIGHTS.mem /accelerator/FC/ram
	set FCCycles [expr {$FCCycles + 5}]
	puts "FC cycles taken"
	puts $FCCycles
	run $runTime
	
	set samirDone [examine -binary /Accelerator/finishNetwork]
	while { $samirDone == 0 } {
		run $halfRunTime
		set samirDone [examine -binary /Accelerator/finishNetwork]
	}
	--load CNN mem
	mem load -i C:/Users/Osama/Desktop/10neoronsTC/RAMNEORONS.mem /accelerator/Image/ram
	
	force -freeze sim:/accelerator/FCENT/defaultAddressNeorons 16'h0000 0
	set ChipDone [examine -binary /Accelerator/ChipDone]
	while { $ChipDone == 0 } {
		run $halfRunTime
		set ChipDone [examine -binary /Accelerator/ChipDone]
	}
	set result [examine -binary /Accelerator/result]
	puts "Our predicted label is"
	puts $result

    
mem save -o Image.mem -f mti -noaddress -data decimal -addr decimal -startaddress 0 -endaddress 576 -wordsperline 1 /accelerator/Image/ram
mem save -o ImageSamir.mem -f mti -noaddress -data binary -addr decimal -startaddress 0 -endaddress 576 -wordsperline 1 /accelerator/Image/ram
#mem save -o CNN.mem -f mti -noaddress -data binary -addr hex -startaddress 0 -endaddress 107 -wordsperline 1 /accelerator/Weights/ram
mem save -o FC.mem -f mti -noaddress -data binary -addr hex -startaddress 0 -endaddress 1154 -wordsperline 1 /accelerator/FC/ram
